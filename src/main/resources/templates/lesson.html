<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Woche ' + ${lesson.id} + ': ' + ${lesson.title}"></title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<!-- Navigation -->
<nav class="navbar">
    <div class="nav-container">
        <a th:href="@{/dashboard}" class="nav-back">
            <i class="fas fa-arrow-left"></i> Zurück zum Dashboard
        </a>
        <div class="nav-brand">
            <i class="fas fa-code"></i>
            <span>Programmieren 1</span>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container lesson-container">
    <!-- Lesson Header -->
    <div class="lesson-header">
        <div class="lesson-badges">
            <span class="badge badge-lesson">
                Woche <span th:text="${lesson.id}"></span>
            </span>
            <span class="badge badge-title">
                <i class="fas fa-book"></i>
                <span th:text="${lesson.title}"></span>
            </span>
        </div>
        <h1 th:text="${lesson.title}"></h1>
        <p class="lesson-desc" th:text="${lesson.shortDescription}"></p>
    </div>

    <!-- Lesson Content -->
    <div class="lesson-content">
        <div th:utext="${lesson.content}"></div>
    </div>

    <!-- Exercises List -->
    <div class="exercises-section">
        <h2><i class="fas fa-tasks"></i> Aufgaben</h2>
        <div class="exercises-list">
            <div th:each="exercise : ${exercises}" class="exercise-card"
                 th:classappend="${completedIds.contains(exercise.id)} ? 'completed'">
                <div class="exercise-icon">
                    <i class="fas fa-star" th:if="${exercise.difficulty} == 'EASY'"></i>
                    <i class="fas fa-star-half-alt" th:if="${exercise.difficulty} == 'MEDIUM'"></i>
                    <i class="fas fa-star" th:if="${exercise.difficulty} == 'HARD'"></i>
                </div>
                <div class="exercise-info">
                    <h3 th:text="${exercise.title}"></h3>
                    <span class="badge badge-easy" th:if="${exercise.difficulty} == 'EASY'">
                        <span th:text="${exercise.difficulty}"></span>
                    </span>
                    <span class="badge badge-medium" th:if="${exercise.difficulty} == 'MEDIUM'">
                        <span th:text="${exercise.difficulty}"></span>
                    </span>
                    <span class="badge badge-hard" th:if="${exercise.difficulty} == 'HARD'">
                        <span th:text="${exercise.difficulty}"></span>
                    </span>
                    <span class="badge badge-points">
                        <i class="fas fa-coins"></i>
                        <span th:text="${exercise.points} + ' Punkte'"></span>
                    </span>
                </div>
                <div class="exercise-actions">
                    <a th:href="@{/exercise/{id}(id=${exercise.id})}" class="btn btn-primary">
                        <i class="fas fa-arrow-right"></i> Zur Aufgabe
                    </a>
                    <span th:if="${completedIds.contains(exercise.id)}" class="completed-label">
                        <i class="fas fa-check-circle" style="color: #4CAF50;"></i> Erledigt
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <p>© 2024 Universität - Programmieren 1 Lernplattform | Version 1.0</p>
</footer>

<script src="/js/main.js"></script>
</body>
</html>